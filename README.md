# University Prospectus RAG Chatbot (Full Stack)

This project is a **full‑stack Retrieval-Augmented Generation (RAG)
chatbot** for answering questions about university documents.\
It includes a **Flask backend** with Azure OpenAI + Azure Cognitive
Search and a **Vite + TypeScript frontend**.

------------------------------------------------------------------------

## Features

-   Vector & semantic search with Azure Cognitive Search\
-   Query rewriting using conversation history\
-   Azure OpenAI (GPT) answer generation\
-   Session-based chat memory\
-   Token usage logging\
-   Arize AX observability (OpenInference)\
-   REST API for frontend integration\
-   Docker support\
-   Vite + TypeScript frontend UI

------------------------------------------------------------------------

## Project Structure

``` bash
.
├── backend/
│   ├── app.py
│   ├── RAG.py
│   ├── Dockerfile
│   ├── docker-compose.yml
│   ├── .env.example
│   ├── requirements.txt
│   └── README.md
│
├── frontend/
│   ├── src/
│   ├── public/
│   ├── index.html
│   ├── package.json
│   ├── vite.config.ts
│   ├── tsconfig.json
│   └── README.md
```

------------------------------------------------------------------------

## Environment Variables (Backend)

Create `backend/.env`:

``` env
COGNITIVESEARCHCONNECTOR5_API_KEY=...
COGNITIVESEARCHCONNECTOR5_API_BASE=...
COGNITIVESEARCHCONNECTOR5_INDEX_NAME=...

AZURE_OPENAI_ENDPOINT=...
AZURE_OPENAI_API_KEY=...
AZURE_OPENAI_DEPLOYMENT_NAME=...
AZURE_OPENAI_API_VERSION=...

ARIZE_API_KEY=...
ARIZE_SPACE_ID=...
VERBOSE=true
```

------------------------------------------------------------------------

# Backend Setup

## Local Run

``` bash
cd backend
pip install -r requirements.txt
python app.py
```

Backend API:

    http://localhost:8000/chat

------------------------------------------------------------------------

## Backend with Docker

``` bash
cd backend
docker build -t university-rag-backend .
docker run -p 8000:8000 --env-file .env university-rag-backend
```

or

``` bash
docker compose up --build
```

------------------------------------------------------------------------

# Frontend Setup 

``` bash
cd frontend
npm install
npm run dev
```

Frontend runs at:

    http://localhost:5173

------------------------------------------------------------------------

## Frontend → Backend API

Frontend sends requests to:

    POST http://localhost:8000/chat

Example request:

``` json
{
  "chatInput": "Which faculties exist at UDG?"
}
```

------------------------------------------------------------------------

## RAG Pipeline

1.  User question\
2.  Query rewriting using chat history\
3.  Vector search in Azure Cognitive Search\
4.  Context injected into GPT prompt\
5.  Answer generated by Azure OpenAI

------------------------------------------------------------------------

## Notes

-   Chat history is stored in-memory (use Redis/DB in production)\
-   Do not commit `.env` files\
-   Configure CORS for production\
-   Secure API keys

------------------------------------------------------------------------

## Tech Stack

**Backend:** Python, Flask, LangChain, Azure OpenAI, Azure Cognitive
Search\
**Frontend:** Vite, TypeScript, React/TS\
**Infra:** Docker, Azure


